<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: User</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: User</h1>

    




<section>

<header>
    
        <h2>User</h2>
        
            <div class="class-description">The User class represents users that have been enrolled and represented by
an enrollment certificate (ECert) and a signing key. The ECert must have
been signed by one of the CAs the blockchain network has been configured to trust.
An enrolled user (having a signing key and ECert) can conduct chaincode instantiate,
transactions and queries with the Chain.

User ECerts can be obtained from a CA beforehand as part of installing and instantiating
the application, or it can be obtained from the optional Fabric CA service via its
enrollment process.

Sometimes User identities are confused with Peer identities. User identities represent
signing capability because it has access to the private key, while Peer identities in
the context of the application/SDK only has the certificate for verifying signatures.
An application cannot use the Peer identity to sign things because the application doesn’t
have access to the Peer identity’s private key.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="User"><span class="type-signature"></span>new User<span class="signature">(cfg)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Constructor for a member.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The member name or an object with the following attributes:
  - enrollmentID {string}: user name
  - name {string}: user name, if "enrollmentID" is also specified, the "name" is ignored
  - roles {string[]}: optional. array of roles
  - affiliation {string}: optional. affiliation with a group or organization</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="User.js.html">User.js</a>, <a href="User.js.html#line48">line 48</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="fromString"><span class="type-signature"></span>fromString<span class="signature">()</span><span class="type-signature"> &rarr; {Member}</span></h4>

    



<div class="description">
    Set the current state of this member from a string based JSON object
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="User.js.html">User.js</a>, <a href="User.js.html#line215">line 215</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Promise of the unmarshalled Member object represented by the serialized string
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Member</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getAffiliation"><span class="type-signature"></span>getAffiliation<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>

    



<div class="description">
    Get the affiliation.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="User.js.html">User.js</a>, <a href="User.js.html#line106">line 106</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The affiliation.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getIdentity"><span class="type-signature"></span>getIdentity<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="global.html#Identity">Identity</a>}</span></h4>

    



<div class="description">
    Get the <a href="global.html#Identity">Identity</a> object for this User instance, used to verify signatures
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="User.js.html">User.js</a>, <a href="User.js.html#line122">line 122</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    the identity object that encapsulates the user's enrollment certificate
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Identity">Identity</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getName"><span class="type-signature"></span>getName<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>

    



<div class="description">
    Get the member name.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="User.js.html">User.js</a>, <a href="User.js.html#line82">line 82</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The member name.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getRoles"><span class="type-signature"></span>getRoles<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;string>}</span></h4>

    



<div class="description">
    Get the roles.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="User.js.html">User.js</a>, <a href="User.js.html#line90">line 90</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The roles.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;string></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getSigningIdentity"><span class="type-signature"></span>getSigningIdentity<span class="signature">()</span><span class="type-signature"> &rarr; {SigningIdentity}</span></h4>

    



<div class="description">
    Get the SigningIdentity object for this User instance, used to generate signatures
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="User.js.html">User.js</a>, <a href="User.js.html#line130">line 130</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    the identity object that encapsulates the user's private key for signing
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">SigningIdentity</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getTCertBatchSize"><span class="type-signature"></span>getTCertBatchSize<span class="signature">()</span><span class="type-signature"> &rarr; {int}</span></h4>

    



<div class="description">
    Get the transaction certificate (tcert) batch size, which is the number of tcerts retrieved
from member services each time (i.e. in a single batch).
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="User.js.html">User.js</a>, <a href="User.js.html#line187">line 187</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The tcert batch size.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">int</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="isEnrolled"><span class="type-signature"></span>isEnrolled<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    



<div class="description">
    Determine if this name has been enrolled.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="User.js.html">User.js</a>, <a href="User.js.html#line207">line 207</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    True if enrolled; otherwise, false.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="setAffiliation"><span class="type-signature"></span>setAffiliation<span class="signature">(affiliation)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Set the affiliation.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>affiliation</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The affiliation.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="User.js.html">User.js</a>, <a href="User.js.html#line114">line 114</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="setEnrollment"><span class="type-signature"></span>setEnrollment<span class="signature">(privateKey, certificate, mspId, opts)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    Set the enrollment object for this User instance
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>privateKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">Key</span>


            
            </td>

            

            

            <td class="description last">the private key object</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>certificate</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the PEM-encoded string of certificate</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mspId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The Member Service Provider id for the local signing identity</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">optional. an object with the following attributes, all optional:
  - cryptoSettings: {object} an object with the following attributes:
     - software {boolean}: Whether to load a software-based implementation (true) or HSM implementation (false)
default is true (for software based implementation), specific implementation module is specified
in the setting 'crypto-suite-software'
     - keysize {number}: The key size to use for the crypto suite instance. default is value of the setting 'crypto-keysize'
     - algorithm {string}: Digital signature algorithm, currently supporting ECDSA only with value "EC"
     - hash {string}: 'SHA2' or 'SHA3'
  - KVSImplClass: {function} the User class persists crypto keys in a CryptoKeyStore, there is a file-based implementation
that is provided as the default. Application can use this parameter to override the default, such as saving the keys in a key store
backed by database. If present, the value must be the class for the alternative implementation.
  - kvsOpts: {object}: an options object specific to the implementation in KVSImplClass</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="User.js.html">User.js</a>, <a href="User.js.html#line153">line 153</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Promise for successful completion of creating the user's signing Identity
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="setRoles"><span class="type-signature"></span>setRoles<span class="signature">(roles)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Set the roles.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>roles</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">The roles.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="User.js.html">User.js</a>, <a href="User.js.html#line98">line 98</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="setTCertBatchSize"><span class="type-signature"></span>setTCertBatchSize<span class="signature">(batchSize)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Set the transaction certificate (tcert) batch size.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>batchSize</code></td>
            

            <td class="type">
            
                
<span class="param-type">int</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="User.js.html">User.js</a>, <a href="User.js.html#line199">line 199</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="toString"><span class="type-signature"></span>toString<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>

    



<div class="description">
    Save the current state of this member as a string
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="User.js.html">User.js</a>, <a href="User.js.html#line275">line 275</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The state of this member as a string
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-api.html">api</a></li></ul><h3>Classes</h3><ul><li><a href="Chain.html">Chain</a></li><li><a href="Client.html">Client</a></li><li><a href="EndorsementPolicy.html">EndorsementPolicy</a></li><li><a href="EventHub.html">EventHub</a></li><li><a href="module-api.CryptoSuite.html">CryptoSuite</a></li><li><a href="module-api.Key.html">Key</a></li><li><a href="module-api.KeyValueStore.html">KeyValueStore</a></li><li><a href="Orderer.html">Orderer</a></li><li><a href="Peer.html">Peer</a></li><li><a href="User.html">User</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://attores.com">Attores</a> 
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>